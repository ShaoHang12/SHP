{"remainingRequest":"E:\\VScode-workplace\\project-SHP3\\node_modules\\babel-loader\\lib\\index.js!E:\\VScode-workplace\\project-SHP3\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\VScode-workplace\\project-SHP3\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\VScode-workplace\\project-SHP3\\src\\components\\Header\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\VScode-workplace\\project-SHP3\\src\\components\\Header\\index.vue","mtime":1657870256684},{"path":"E:\\VScode-workplace\\project-SHP3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656639267156},{"path":"E:\\VScode-workplace\\project-SHP3\\node_modules\\babel-loader\\lib\\index.js","mtime":1656639277841},{"path":"E:\\VScode-workplace\\project-SHP3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656639267156},{"path":"E:\\VScode-workplace\\project-SHP3\\node_modules\\vue-loader\\lib\\index.js","mtime":1656639275337}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"E:\\\\VScode-workplace\\\\project-SHP3\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"\",\n  data: function data() {\n    return {\n      keyword: \"\"\n    };\n  },\n  methods: {\n    //搜索按钮的回调函数\n    goSearch: function goSearch() {\n      //  this.$router.push('/search/'+ this.keyword+'?k='+this.keyword.toUpperCase())\n      // this.$router.push({name:'search',params:{keyword:this.keyword},query:{k:this.keyword.toUpperCase()}})\n      var locations = {\n        name: \"search\",\n        params: {\n          keyword: this.keyword || undefined\n        }\n      }; //确定路径当中有query参数\n\n      if (this.$route.query.categoryName) {\n        locations.query = this.$route.query;\n      }\n\n      this.$router.push(locations);\n    },\n    logout: function () {\n      var _logout = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return this.$store.dispatch(\"userLogout\");\n\n              case 3:\n                //退出回到首页\n                this.$router.push(\"/home\");\n                _context.next = 8;\n                break;\n\n              case 6:\n                _context.prev = 6;\n                _context.t0 = _context[\"catch\"](0);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 6]]);\n      }));\n\n      function logout() {\n        return _logout.apply(this, arguments);\n      }\n\n      return logout;\n    }()\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    //通过全局事件总线清除关键字\n    this.$bus.$on(\"clear\", function () {\n      _this.keyword = \"\";\n    });\n  },\n  computed: {\n    userName: function userName() {\n      return this.$store.state.user.userInfo.name;\n    }\n  }\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA,eAAA;AACA,EAAA,IAAA,EAAA,EADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,OAAA,EAAA;AADA,KAAA;AAGA,GANA;AAOA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,QAFA,sBAEA;AACA;AACA;AACA,UAAA,SAAA,GAAA;AACA,QAAA,IAAA,EAAA,QADA;AAEA,QAAA,MAAA,EAAA;AAAA,UAAA,OAAA,EAAA,KAAA,OAAA,IAAA;AAAA;AAFA,OAAA,CAHA,CAOA;;AACA,UAAA,KAAA,MAAA,CAAA,KAAA,CAAA,YAAA,EAAA;AACA,QAAA,SAAA,CAAA,KAAA,GAAA,KAAA,MAAA,CAAA,KAAA;AACA;;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,SAAA;AACA,KAdA;AAeA,IAAA,MAfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAiBA,KAAA,MAAA,CAAA,QAAA,CAAA,YAAA,CAjBA;;AAAA;AAkBA;AACA,qBAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AAnBA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,GAPA;AA8BA,EAAA,OA9BA,qBA8BA;AAAA;;AACA;AACA,SAAA,IAAA,CAAA,GAAA,CAAA,OAAA,EAAA,YAAA;AACA,MAAA,KAAA,CAAA,OAAA,GAAA,EAAA;AACA,KAFA;AAGA,GAnCA;AAoCA,EAAA,QAAA,EAAA;AACA,IAAA,QADA,sBACA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,QAAA,CAAA,IAAA;AACA;AAHA;AApCA,CAAA","sourcesContent":["<template>\r\n  <header class=\"header\">\r\n    <!-- 头部的第一行 -->\r\n    <div class=\"top\">\r\n      <div class=\"container\">\r\n        <div class=\"loginList\">\r\n          <p>尚品汇欢迎您！</p>\r\n          <!-- 没有用户名未登录 -->\r\n          <p v-if=\"!userName\">\r\n            <span>请</span>\r\n            <!-- 声明式导航 -->\r\n            <router-link to=\"/login\">登录</router-link>\r\n            <router-link class=\"register\" to=\"/register\">免费注册</router-link>\r\n          </p>\r\n          <p v-else>\r\n            <a>{{ userName }}</a>\r\n            <a class=\"register\" @click=\"logout\">退出登录</a>\r\n          </p>\r\n        </div>\r\n        <div class=\"typeList\">\r\n          <a href=\"###\">我的订单</a>\r\n          <a href=\"###\">我的购物车</a>\r\n          <a href=\"###\">我的尚品汇</a>\r\n          <a href=\"###\">尚品汇会员</a>\r\n          <a href=\"###\">企业采购</a>\r\n          <a href=\"###\">关注尚品汇</a>\r\n          <a href=\"###\">合作招商</a>\r\n          <a href=\"###\">商家后台</a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!--头部第二行 搜索区域-->\r\n    <div class=\"bottom\">\r\n      <h1 class=\"logoArea\">\r\n        <router-link class=\"logo\" to=\"/home\">\r\n          <img src=\"./images/logo.png\" alt=\"\" />\r\n        </router-link>\r\n      </h1>\r\n      <div class=\"searchArea\">\r\n        <form action=\"###\" class=\"searchForm\">\r\n          <input\r\n            type=\"text\"\r\n            id=\"autocomplete\"\r\n            class=\"input-error input-xxlarge\"\r\n            v-model=\"keyword\"\r\n          />\r\n          <button\r\n            class=\"sui-btn btn-xlarge btn-danger\"\r\n            type=\"button\"\r\n            @click=\"goSearch()\"\r\n          >\r\n            搜索\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </header>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"\",\r\n  data() {\r\n    return {\r\n      keyword: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    //搜索按钮的回调函数\r\n    goSearch() {\r\n      //  this.$router.push('/search/'+ this.keyword+'?k='+this.keyword.toUpperCase())\r\n      // this.$router.push({name:'search',params:{keyword:this.keyword},query:{k:this.keyword.toUpperCase()}})\r\n      let locations = {\r\n        name: \"search\",\r\n        params: { keyword: this.keyword || undefined },\r\n      };\r\n      //确定路径当中有query参数\r\n      if (this.$route.query.categoryName) {\r\n        locations.query = this.$route.query;\r\n      }\r\n      this.$router.push(locations);\r\n    },\r\n    async logout() {\r\n      try {\r\n        await this.$store.dispatch(\"userLogout\");\r\n        //退出回到首页\r\n        this.$router.push(\"/home\");\r\n      } catch (error) {}\r\n    },\r\n  },\r\n  mounted() {\r\n    //通过全局事件总线清除关键字\r\n    this.$bus.$on(\"clear\", () => {\r\n      this.keyword = \"\";\r\n    });\r\n  },\r\n  computed: {\r\n    userName() {\r\n      return this.$store.state.user.userInfo.name;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.header {\r\n  & > .top {\r\n    background-color: #eaeaea;\r\n    height: 30px;\r\n    line-height: 30px;\r\n\r\n    .container {\r\n      width: 1200px;\r\n      margin: 0 auto;\r\n      overflow: hidden;\r\n\r\n      .loginList {\r\n        float: left;\r\n\r\n        p {\r\n          float: left;\r\n          margin-right: 10px;\r\n\r\n          .register {\r\n            border-left: 1px solid #b3aeae;\r\n            padding: 0 5px;\r\n            margin-left: 5px;\r\n          }\r\n        }\r\n      }\r\n\r\n      .typeList {\r\n        float: right;\r\n\r\n        a {\r\n          padding: 0 10px;\r\n\r\n          & + a {\r\n            border-left: 1px solid #b3aeae;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  & > .bottom {\r\n    width: 1200px;\r\n    margin: 0 auto;\r\n    overflow: hidden;\r\n\r\n    .logoArea {\r\n      float: left;\r\n\r\n      .logo {\r\n        img {\r\n          width: 175px;\r\n          margin: 25px 45px;\r\n        }\r\n      }\r\n    }\r\n\r\n    .searchArea {\r\n      float: right;\r\n      margin-top: 35px;\r\n\r\n      .searchForm {\r\n        overflow: hidden;\r\n\r\n        input {\r\n          box-sizing: border-box;\r\n          width: 490px;\r\n          height: 32px;\r\n          padding: 0px 4px;\r\n          border: 2px solid #ea4a36;\r\n          float: left;\r\n\r\n          &:focus {\r\n            outline: none;\r\n          }\r\n        }\r\n\r\n        button {\r\n          height: 32px;\r\n          width: 68px;\r\n          background-color: #ea4a36;\r\n          border: none;\r\n          color: #fff;\r\n          float: left;\r\n          cursor: pointer;\r\n\r\n          &:focus {\r\n            outline: none;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components/Header"}]}