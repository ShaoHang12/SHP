{"remainingRequest":"E:\\VScode-workplace\\project-SHP3\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\VScode-workplace\\project-SHP3\\src\\components\\TypeNav\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\VScode-workplace\\project-SHP3\\src\\components\\TypeNav\\index.vue","mtime":1657113637416},{"path":"E:\\VScode-workplace\\project-SHP3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656639267156},{"path":"E:\\VScode-workplace\\project-SHP3\\node_modules\\babel-loader\\lib\\index.js","mtime":1656639277841},{"path":"E:\\VScode-workplace\\project-SHP3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656639267156},{"path":"E:\\VScode-workplace\\project-SHP3\\node_modules\\vue-loader\\lib\\index.js","mtime":1656639275337}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport {mapState} from 'vuex';\r\n//引入方式“将全部的lodash全部引入\r\n//最好的引入方式是按需引入\r\nimport throttle from 'lodash/throttle';\r\n    export default {\r\n        name:'TypeNav',\r\n        //组件加载完毕可以向服务器发请求\r\n        mounted(){\r\n            //通知Vuex发请求，提供数据，存储与仓库中\r\n            // this.$store.dispatch('categoryList')\r\n            //当挂载完毕后让show属性变为false\r\n            if(this.$route.path != '/home'){\r\n                 this.show = false \r\n            } \r\n        },\r\n        data(){\r\n            return {       \r\n              //存储用户鼠标移上哪一个一级分类\r\n              currentIndex:-1,\r\n              show:true\r\n            }\r\n        },\r\n        computed:{\r\n            ...mapState({\r\n                //右侧需要一个函数当使用计算属性的时候右侧函数会执行一次\r\n                categoryList:state=>state.home.categoryList\r\n                \r\n            })\r\n        },\r\n        methods:{\r\n          //鼠标进入\r\n        \r\n          changeIndex:throttle(function(index){\r\n               this.currentIndex = index\r\n          },50),\r\n          goSearch(event){\r\n               //编程式导航+事件委派\r\n               //点击的一定是a标签传递参数\r\n                //第一个问题:div父节点子元素太多【h3、h2、em、dt、dd、dl...a】？怎么知道点击的一定是a\r\n                //第二个问题:要区分一级分类、二级分类、三级分类的a标签【category1Id|category2Id|category2Id】\r\n               let element = event.target;\r\n               let {categoryname,category1Id,category2Id,category3Id} = element.dataset;\r\n                //点击只要是a,就是往search模块跳转\r\n               if(categoryname){\r\n                        let location = {name:'search'}\r\n                        let query = {categoryName:categoryname}\r\n                   //一级分类的a\r\n                   if(category1Id){\r\n                       query.category1Id = category1Id\r\n         \r\n                        //二级分类的a\r\n                   }else if(category2Id){\r\n                       query.category2Id = category2Id\r\n\r\n                   }else{\r\n                       query.category3Id = category3Id\r\n                   }\r\n                   //判断如果路由跳转的时候带有params参数也要传递过去\r\n                   if(this.$route.params){\r\n                        location.params = this.$route.params\r\n                        location.query = query\r\n                        this.$router.push(location)\r\n\r\n                   }\r\n                  \r\n               }\r\n          },\r\n          //鼠标移入的时候让商品进行展示\r\n          enterShow(){\r\n            this.show=true\r\n          },\r\n            //当商品离开时候让商品分类列表进行隐藏\r\n            leaveShow() {\r\n                this.currentIndex = -1\r\n                if(this.$route.path != '/home'){\r\n                    this.currentIndex = -1\r\n                    this.show = false\r\n                }    \r\n            }\r\n      \r\n        } \r\n    }\r\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"index.vue","sourceRoot":"src/components/TypeNav","sourcesContent":["<template>\r\n   <div class=\"type-nav\">\r\n            <div class=\"container\">\r\n                <div @mouseleave=\"leaveShow\" @mouseenter=\"enterShow\">\r\n                <h2 class=\"all\">全部商品分类</h2>\r\n                <nav class=\"nav\">\r\n                    <a href=\"###\">服装城</a>\r\n                    <a href=\"###\">美妆馆</a>\r\n                    <a href=\"###\">尚品汇超市</a>\r\n                    <a href=\"###\">全球购</a>\r\n                    <a href=\"###\">闪购</a>\r\n                    <a href=\"###\">团购</a>\r\n                    <a href=\"###\">有趣</a>\r\n                    <a href=\"###\">秒杀</a>\r\n                </nav>\r\n                <!-- 过度动画 -->\r\n                <transition name=\"sort\">\r\n                    <div class=\"sort\" v-show=\"show\">\r\n                        <div class=\"all-sort-list2\" @click=\"goSearch\">\r\n                            <div \r\n                            class=\"item\" \r\n                            v-for=\"(c1,index) in categoryList\" \r\n                            :key=\"c1.categoryId\"\r\n                        :class=\"{cur:currentIndex==index}\" >\r\n                                <h3 @mouseenter=\"changeIndex(index)\">\r\n                                    <a :data-categoryName=\"c1.categoryName\" :data-category1Id=\"c1.categoryId\">{{c1.categoryName}}</a>\r\n                                </h3>\r\n                                <div class=\"item-list clearfix\" :style=\"{display:currentIndex==index?'block':'none'}\">\r\n                                    <div class=\"subitem\" v-for=\"c2 in c1.categoryChild\" :key=\"c2.categoryId\">\r\n                                        <dl class=\"fore\">\r\n                                            <dt>\r\n                                                <a :data-categoryName=\"c2.categoryName\" :data-category2Id=\"c2.categoryId\">{{c2.categoryName}}</a>\r\n                                            </dt>\r\n                                        \r\n                                            <dd>\r\n                                                <em v-for=\"c3 in c2.categoryChild\" :key=\"c3.categoryId\">\r\n                                                    <a :data-categoryName=\"c3.categoryName\" :data-category3Id=\"c3.categoryId\">{{c3.categoryName}}</a>\r\n                                                </em>        \r\n                                            </dd>\r\n                                        </dl>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n            \r\n                        </div>\r\n                    </div>\r\n                </transition>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapState} from 'vuex';\r\n//引入方式“将全部的lodash全部引入\r\n//最好的引入方式是按需引入\r\nimport throttle from 'lodash/throttle';\r\n    export default {\r\n        name:'TypeNav',\r\n        //组件加载完毕可以向服务器发请求\r\n        mounted(){\r\n            //通知Vuex发请求，提供数据，存储与仓库中\r\n            // this.$store.dispatch('categoryList')\r\n            //当挂载完毕后让show属性变为false\r\n            if(this.$route.path != '/home'){\r\n                 this.show = false \r\n            } \r\n        },\r\n        data(){\r\n            return {       \r\n              //存储用户鼠标移上哪一个一级分类\r\n              currentIndex:-1,\r\n              show:true\r\n            }\r\n        },\r\n        computed:{\r\n            ...mapState({\r\n                //右侧需要一个函数当使用计算属性的时候右侧函数会执行一次\r\n                categoryList:state=>state.home.categoryList\r\n                \r\n            })\r\n        },\r\n        methods:{\r\n          //鼠标进入\r\n        \r\n          changeIndex:throttle(function(index){\r\n               this.currentIndex = index\r\n          },50),\r\n          goSearch(event){\r\n               //编程式导航+事件委派\r\n               //点击的一定是a标签传递参数\r\n                //第一个问题:div父节点子元素太多【h3、h2、em、dt、dd、dl...a】？怎么知道点击的一定是a\r\n                //第二个问题:要区分一级分类、二级分类、三级分类的a标签【category1Id|category2Id|category2Id】\r\n               let element = event.target;\r\n               let {categoryname,category1Id,category2Id,category3Id} = element.dataset;\r\n                //点击只要是a,就是往search模块跳转\r\n               if(categoryname){\r\n                        let location = {name:'search'}\r\n                        let query = {categoryName:categoryname}\r\n                   //一级分类的a\r\n                   if(category1Id){\r\n                       query.category1Id = category1Id\r\n         \r\n                        //二级分类的a\r\n                   }else if(category2Id){\r\n                       query.category2Id = category2Id\r\n\r\n                   }else{\r\n                       query.category3Id = category3Id\r\n                   }\r\n                   //判断如果路由跳转的时候带有params参数也要传递过去\r\n                   if(this.$route.params){\r\n                        location.params = this.$route.params\r\n                        location.query = query\r\n                        this.$router.push(location)\r\n\r\n                   }\r\n                  \r\n               }\r\n          },\r\n          //鼠标移入的时候让商品进行展示\r\n          enterShow(){\r\n            this.show=true\r\n          },\r\n            //当商品离开时候让商品分类列表进行隐藏\r\n            leaveShow() {\r\n                this.currentIndex = -1\r\n                if(this.$route.path != '/home'){\r\n                    this.currentIndex = -1\r\n                    this.show = false\r\n                }    \r\n            }\r\n      \r\n        } \r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n    .type-nav {\r\n        border-bottom: 2px solid #e1251b;\r\n\r\n        .container {\r\n            width: 1200px;\r\n            margin: 0 auto;\r\n            display: flex;\r\n            position: relative;\r\n\r\n            .all {\r\n                width: 210px;\r\n                height: 45px;\r\n                background-color: #e1251b;\r\n                line-height: 45px;\r\n                text-align: center;\r\n                color: #fff;\r\n                font-size: 14px;\r\n                font-weight: bold;\r\n            }\r\n\r\n            .nav {\r\n                a {\r\n                    height: 45px;\r\n                    margin: 0 22px;\r\n                    line-height: 45px;\r\n                    font-size: 16px;\r\n                    color: #333;\r\n                }\r\n            }\r\n\r\n            .sort {\r\n                position: absolute;\r\n                left: 0;\r\n                top: 45px;\r\n                width: 210px;\r\n                height: 461px;\r\n                position: absolute;\r\n                background: #fafafa;\r\n                z-index: 999;\r\n\r\n                .all-sort-list2 {\r\n                    .item {\r\n                        h3 {\r\n                            line-height: 30px;\r\n                            font-size: 14px;\r\n                            font-weight: 400;\r\n                            overflow: hidden;\r\n                            padding: 0 20px;\r\n                            margin: 0;\r\n\r\n                            a {\r\n                                color: #333;\r\n                            }\r\n                        }\r\n\r\n                        .item-list {\r\n                            display: none;\r\n                            position: absolute;\r\n                            width: 734px;\r\n                            min-height: 460px;\r\n                            background: #f7f7f7;\r\n                            left: 210px;\r\n                            border: 1px solid #ddd;\r\n                            top: 0;\r\n                            z-index: 9999 !important;\r\n\r\n                            .subitem {\r\n                                float: left;\r\n                                width: 650px;\r\n                                padding: 0 4px 0 8px;\r\n\r\n                                dl {\r\n                                    border-top: 1px solid #eee;\r\n                                    padding: 6px 0;\r\n                                    overflow: hidden;\r\n                                    zoom: 1;\r\n\r\n                                    &.fore {\r\n                                        border-top: 0;\r\n                                    }\r\n\r\n                                    dt {\r\n                                        float: left;\r\n                                        width: 54px;\r\n                                        line-height: 22px;\r\n                                        text-align: right;\r\n                                        padding: 3px 6px 0 0;\r\n                                        font-weight: 700;\r\n                                    }\r\n\r\n                                    dd {\r\n                                        float: left;\r\n                                        width: 415px;\r\n                                        padding: 3px 0 0;\r\n                                        overflow: hidden;\r\n\r\n                                        em {\r\n                                            float: left;\r\n                                            height: 14px;\r\n                                            line-height: 14px;\r\n                                            padding: 0 8px;\r\n                                            margin-top: 5px;\r\n                                            border-left: 1px solid #ccc;\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                       \r\n                    }\r\n                .cur{\r\n                        background-color: skyblue;\r\n                    }\r\n                }\r\n            }\r\n            .sort-enter{\r\n                height: 0;\r\n            }\r\n            .sort-enter-to{\r\n                height: 461px;\r\n            }\r\n            .sort-enter-active{\r\n                  transition: all .5s linear;\r\n            }\r\n        }\r\n    }\r\n\r\n</style>"]}]}